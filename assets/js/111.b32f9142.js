(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{619:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"《javascript高级程序设计》"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#《javascript高级程序设计》"}},[t._v("#")]),t._v(" 《JavaScript高级程序设计》")]),t._v(" "),a("p",[t._v("javascript书籍中的经典，里面非常多细节解释的十分详细，而且有些晦涩难懂的概念，比如js面向对象、原型链、继承等，也能层层递进，深入浅出。忍不住赞叹：写的太棒了！")]),t._v(" "),a("h2",{attrs:{id:"javascript语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript语言"}},[t._v("#")]),t._v(" JavaScript语言")]),t._v(" "),a("p",[a("strong",[t._v("浏览器宿主中的JavaScript = ECMAScript + DOM + BOM")]),t._v("。")]),t._v(" "),a("p",[t._v("Web浏览器只是ECMAScript实现的宿主环境之一。宿主环境不仅提供基本的ECMAScript实现，也会提供该语言的扩展（比如DOM/BOM），以便语言与环境之间对接交互。")]),t._v(" "),a("p",[a("strong",[t._v("DOM")]),t._v("(文档对象模型)是针对XML但经过扩展用于HTML的应用程序编程接口。DOM把整个页面映射为一个多层节点结构。HTML的每个组成部分都是某种类型的节点，这些节点又包含着不同类型的数据。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ECMAScript")]),t._v(" 核心语言功能\n"),a("ul",[a("li",[t._v("语法")]),t._v(" "),a("li",[t._v("类型")]),t._v(" "),a("li",[t._v("语句")]),t._v(" "),a("li",[t._v("关键字")]),t._v(" "),a("li",[t._v("保留字")]),t._v(" "),a("li",[t._v("操作符")]),t._v(" "),a("li",[t._v("对象")])])]),t._v(" "),a("li",[a("strong",[t._v("DOM")]),t._v("（文档对象模型） "),a("code",[t._v("提供访问和操作网页内容的方法与接口")]),t._v(" "),a("ul",[a("li",[t._v("DOM视图 DOM节点（Node类型）\n"),a("ul",[a("li",[t._v("DOM查找")]),t._v(" "),a("li",[t._v("DOM操作")])])]),t._v(" "),a("li",[t._v("DOM事件\n"),a("ul",[a("li",[t._v("事件捕获 document -> div")]),t._v(" "),a("li",[t._v("事件冒泡 div -> document")])])]),t._v(" "),a("li",[t._v("DOM样式 CSS")])])]),t._v(" "),a("li",[a("strong",[t._v("BOM")]),t._v("（浏览器对象模型） 与浏览器交互的方法与接口\n"),a("ul",[a("li",[t._v("window\n"),a("ul",[a("li",[t._v("history")]),t._v(" "),a("li",[t._v("document 唯一一个既属于BOM又属于DOM的对象")]),t._v(" "),a("li",[t._v("navigator")]),t._v(" "),a("li",[t._v("screen")]),t._v(" "),a("li",[t._v("location")])])]),t._v(" "),a("li",[t._v("cookie")]),t._v(" "),a("li",[t._v("XMLHttpRequest")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("js 是ECMAScript的具体实现。其定义了包含语法、关键字等，但不包括与浏览器相关的API。\njs引擎不是独立运行的，它运行在宿主环境中。web宿主环境就是浏览器。")])]),t._v(" "),a("h3",{attrs:{id:"标签的位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#标签的位置"}},[t._v("#")]),t._v(" 标签的位置")]),t._v(" "),a("ul",[a("li",[t._v("遇到"),a("code",[t._v("<script>")]),t._v("会暂停解析html + 浏览器遇到"),a("code",[t._v("<body>")]),t._v("标签才开始呈现内容，所以script应该放在body的最后")])]),t._v(" "),a("h2",{attrs:{id:"javascript数据类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript数据类型"}},[t._v("#")]),t._v(" JavaScript数据类型")]),t._v(" "),a("p",[t._v("从属于ECMAScript规范定义。从技术角度讲，"),a("code",[t._v("函数在ECMAScript中是对象，不是一种数据结构")]),t._v("。（笔者注：所以js语言可以很好的实践函数式编程思想。关于函数式编程思想可以看笔者另外一篇笔记："),a("RouterLink",{attrs:{to:"/react/function-program.html"}},[t._v("函数式编程")]),t._v("）")],1),t._v(" "),a("ul",[a("li",[t._v("undefined")]),t._v(" "),a("li",[t._v("null")]),t._v(" "),a("li",[t._v("string")]),t._v(" "),a("li",[t._v("number")]),t._v(" "),a("li",[t._v("boolean")]),t._v(" "),a("li",[t._v("object")])]),t._v(" "),a("h3",{attrs:{id:"基本类型-引用类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本类型-引用类型"}},[t._v("#")]),t._v(" 基本类型/引用类型")]),t._v(" "),a("p",[t._v("JS变量松散，只是在特定时间用于保存特定值的一个名字。即不存在定义某个变量时必须保存何种数据类型")]),t._v(" "),a("ul",[a("li",[t._v("基本类型\n"),a("ul",[a("li",[t._v("复制直接拷贝副本")])])]),t._v(" "),a("li",[t._v("引用类型\n"),a("ul",[a("li",[a("code",[t._v("复制的是指针，指针指向真实的内存")]),t._v("（js是无法获取以及操作内存，只能通过指针代理）")]),t._v(" "),a("li",[t._v("当覆盖新的值时，指针指向新对象")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以上解释了这个赋值问题")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b和a指向同一个内存地址")]),t._v("\nb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" aget"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b被指向新的内存地址，断开了与a的联系")]),t._v("\n")])])]),a("h3",{attrs:{id:"函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),a("p",[t._v("函数是对象，函数名是指针（函数名代理着内存）")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以下都是等价的")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这种方式较为明显的诠释了实质：函数是对象，函数名是指针")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" add "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a + b'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"闭包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#闭包"}},[t._v("#")]),t._v(" 闭包")]),t._v(" "),a("p",[t._v("指有权访问另一个函数作用域中的变量的函数。原理：")]),t._v(" "),a("ul",[a("li",[t._v("后台执行环境中，闭包的作用域链包含自己的作用域、包含函数的作用域和全局作用域。")]),t._v(" "),a("li",[t._v("通常函数的作用域及其所有变量都会在函数执行结束后被销毁。")]),t._v(" "),a("li",[t._v("但是，当函数返回一个闭包时，这个函数的作用域将会一直在内存中保存，直到闭包不存在为止。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addThird")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" d "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该函数能访问另外一个函数作用域的变量：c、d")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addThird")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 16")]),t._v("\n")])])]),a("p",[t._v("最典型需要闭包案例：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 连续打印5，而不是从1～4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("以上代码我们试图假设循环中的每个迭代在运行时都会给自己“捕获”一个i副本，但根据作用域的工作原理，实际情况是尽管循环中的五个函数是在各个迭代中分布定义的，但是这些函数都是"),a("code",[t._v("被封闭在一个共享的全局作用域中")]),t._v("，因此实际上只有一个i。")]),t._v(" "),a("p",[t._v("所以所有函数共享一个i的引用。")]),t._v(" "),a("h4",{attrs:{id:"解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),a("ol",[a("li",[t._v("每次迭代都要一个闭包作用域")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 存储i副本，使得settimeout函数可以访问到外部作用域")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一般编码更常用这种方式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("块作用域")])]),t._v(" "),a("p",[a("code",[t._v("块作用域本质上是将块变成一个可以被关闭的作用域。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 块作用域")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("for循环头部的let声明")]),t._v("还有一个特殊行为。这个行为指出变量在循环过程中不止被声明一次，"),a("code",[t._v("每次迭代都会声明")]),t._v("。随后的每个迭代都会使用上一个迭代结束时的值来初始化这个变量。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom"}},[t._v("#")]),t._v(" DOM")]),t._v(" "),a("p",[t._v("DOM（文档对象模型），"),a("code",[t._v("提供访问和操作网页内容的方法和接口")]),t._v("，是针对HTML和XML文档的一个API（扩展XML）。"),a("code",[t._v("DOM描绘了一个层次化的节点树")]),t._v("。")]),t._v(" "),a("p",[t._v("借助DOM提供的API，开发人员可轻松自如的增删改查任何节点，即获得控制页面内容和结构的主动权。")]),t._v(" "),a("h3",{attrs:{id:"dom级别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom级别"}},[t._v("#")]),t._v(" DOM级别")]),t._v(" "),a("h4",{attrs:{id:"dom1级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom1级"}},[t._v("#")]),t._v(" DOM1级")]),t._v(" "),a("p",[t._v("1998年成为W3C标准，由两个模块组成：DOM Core 和DOM HTML。DOM Core规定如何映射基于XML的文档结构；DOM HTML模块则在DOM Core的基础上扩展，添加了对HTML的对象和方法（比如在对象上直接绑定事件el.onclick=function）。")]),t._v(" "),a("h4",{attrs:{id:"dom2级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom2级"}},[t._v("#")]),t._v(" DOM2级")]),t._v(" "),a("p",[t._v("DOM2目标宽泛了很多。主要有DOM2使得DOM1的DOM Core模块经过扩展"),a("strong",[t._v("支持XML命名空间")]),t._v("。\n同时引入了新的模块：")]),t._v(" "),a("ul",[a("li",[t._v("DOM 视图")]),t._v(" "),a("li",[t._v("DOM 事件（比如DOM2开始支持el.addEventListen('click', funcion)事件监听方式）")]),t._v(" "),a("li",[t._v("DOM 样式")]),t._v(" "),a("li",[t._v("DOM 遍历")])]),t._v(" "),a("h4",{attrs:{id:"dom3级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom3级"}},[t._v("#")]),t._v(" DOM3级")]),t._v(" "),a("p",[t._v("目的同样是扩展DOM API，以"),a("strong",[t._v("满足操作XML的所有需求")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"其他dom标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他dom标准"}},[t._v("#")]),t._v(" 其他DOM标准")]),t._v(" "),a("p",[t._v("除了DOM Core和DOM HTML接口之外，SVG语言（也是基于XML的）也发布了针对自己的DOM标准，使得SVG对象上可操作相对应的新的API。其他语言还包括MathML、SMIL")]),t._v(" "),a("h3",{attrs:{id:"xhtml命名空间支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xhtml命名空间支持"}},[t._v("#")]),t._v(" XHTML命名空间支持")]),t._v(" "),a("p",[t._v("HTML不支持XML命名空间，但"),a("code",[t._v("XHTML支持XML命名空间")]),t._v("。命名空间使用"),a("code",[t._v("xmlns")]),t._v("特性来指定。在混合使用两种语言的情况下，命名空间用处非常大。比如混合了XHTML和SVG语言的文档:")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/1999/xhtml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("svg")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2000/svg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("viewBox")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0 0 100 100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("rect")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("y")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("widht")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("rect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("svg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("通过设置命名空间，svg元素的所有子元素，以及这些元素的所有特性，都被认为属于http://www.w3.org/2000/svg命名空间。")]),t._v(" "),a("p",[t._v("由于引入了命名空间，所以DOM2级的Document类型新增了关于命名空间的方法。比如document.createElementNS(namespaceURI, tagName)")]),t._v(" "),a("h3",{attrs:{id:"节点层次"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#节点层次"}},[t._v("#")]),t._v(" 节点层次")]),t._v(" "),a("ul",[a("li",[t._v("Node 所有节点都继承自Node类型(DOM1级定义)\n"),a("ul",[a("li",[t._v("节点属性：nodeType/nodeName/nodeValue")]),t._v(" "),a("li",[t._v("节点关系：firstChild/lastChild/childNodes/parentNode/nextSibling/previousSibling")]),t._v(" "),a("li",[t._v("节点操作：appendChild()/replaceChild()/removeChild()/insertBefore()")])])]),t._v(" "),a("li",[t._v("Document 文档类型（nodeType=9）。表示整个HTML页面\n"),a("ul",[a("li",[t._v("window.document是其实例")]),t._v(" "),a("li",[t._v("document.documentElement指向<html>标签子元素，document.body指向<body>标签子元素。")]),t._v(" "),a("li",[t._v("查找Node\n"),a("ul",[a("li",[t._v("getElementById()")]),t._v(" "),a("li",[t._v("getElementByName()")]),t._v(" "),a("li",[t._v("getElementByTagName()")])])]),t._v(" "),a("li",[t._v("创建Node\n"),a("ul",[a("li",[t._v("createElement()")]),t._v(" "),a("li",[t._v("createTextNode()")])])])])]),t._v(" "),a("li",[t._v("Element 元素类型（nodeType=1），最常用类型\n"),a("ul",[a("li",[t._v("id/className")]),t._v(" "),a("li",[t._v("属性操作：getAttribute()/setAttribute()/removeAttribute()")])])]),t._v(" "),a("li",[t._v("Text 文本类型")])]),t._v(" "),a("h3",{attrs:{id:"dom扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom扩展"}},[t._v("#")]),t._v(" DOM扩展")]),t._v(" "),a("ul",[a("li",[t._v("选择符API 从此不再需要getElementBy...\n"),a("ul",[a("li",[t._v("querySelector")]),t._v(" "),a("li",[t._v("querySelectorAll")]),t._v(" "),a("li",[t._v("matchsSelector")])])]),t._v(" "),a("li",[t._v("元素遍历 弥补使用childNodes和firstChild属性时，行为不一致\n"),a("ul",[a("li",[t._v("childElementCount")]),t._v(" "),a("li",[t._v("firstElementChild")]),t._v(" "),a("li",[t._v("lastElementChild")]),t._v(" "),a("li",[t._v("previousElementSibling")]),t._v(" "),a("li",[t._v("nextElementSibling")])])]),t._v(" "),a("li",[t._v("HTML5 围绕如何使用新增标记，定义了大量JavaScirpt API\n"),a("ul",[a("li",[t._v("getElementByClassName")]),t._v(" "),a("li",[t._v("classList\n"),a("ul",[a("li",[t._v("add")]),t._v(" "),a("li",[t._v("contains")]),t._v(" "),a("li",[t._v("remove")]),t._v(" "),a("li",[t._v("toggle")])])]),t._v(" "),a("li",[t._v("自定义数据属性 data-")]),t._v(" "),a("li",[t._v("postMessage")]),t._v(" "),a("li",[t._v("拖放\n"),a("ul",[a("li",[t._v("draggable属性开启")]),t._v(" "),a("li",[t._v("dragstart/drag/dragend/dragenter/dragover/dragleave事件")]),t._v(" "),a("li",[t._v("dataTransfer对象传递数据")])])]),t._v(" "),a("li",[t._v("audio/video")]),t._v(" "),a("li",[t._v("hashchange/popstate")])])]),t._v(" "),a("li",[t._v("专有扩展\n"),a("ul",[a("li",[t._v("children属性。对childNodes进行简化")]),t._v(" "),a("li",[t._v("el.contains(el)方法 某个节点是不是另外一个节点的后代")])])]),t._v(" "),a("li",[t._v("DOM2/DOM3\n"),a("ul",[a("li",[t._v("样式\n"),a("ul",[a("li",[t._v("style属性 el.style.width")])])]),t._v(" "),a("li",[t._v("范围(DOM2)\n"),a("ul",[a("li",[t._v("document.createRange()")])])]),t._v(" "),a("li",[t._v("手动绑定/解除事件")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myDiv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementByClassName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myDiv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmyDiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'current'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmyDiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100px'")]),t._v("\n")])])]),a("h3",{attrs:{id:"事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),a("ul",[a("li",[t._v("事件类型\n"),a("ul",[a("li",[t._v("UI\n"),a("ul",[a("li",[t._v("load")]),t._v(" "),a("li",[t._v("resize")]),t._v(" "),a("li",[t._v("scroll")])])]),t._v(" "),a("li",[t._v("焦点\n"),a("ul",[a("li",[t._v("blur")]),t._v(" "),a("li",[t._v("focus")])])]),t._v(" "),a("li",[t._v("鼠标与滚轮\n"),a("ul",[a("li",[t._v("click")]),t._v(" "),a("li",[t._v("dbclick")]),t._v(" "),a("li",[t._v("mousedown")]),t._v(" "),a("li",[t._v("mouseenter")]),t._v(" "),a("li",[t._v("...")])])]),t._v(" "),a("li",[t._v("键盘\n"),a("ul",[a("li",[t._v("keydown")]),t._v(" "),a("li",[t._v("keypress")]),t._v(" "),a("li",[t._v("keyup")])])]),t._v(" "),a("li",[t._v("复合事件（虚拟键盘用到）\n"),a("ul",[a("li",[t._v("compositionstart")]),t._v(" "),a("li",[t._v("compositionupdate")]),t._v(" "),a("li",[t._v("compositionend")])])]),t._v(" "),a("li",[t._v("变动事件\n"),a("ul",[a("li",[t._v("DOMNodeInserted")])])]),t._v(" "),a("li",[t._v("HTML5事件\n"),a("ul",[a("li",[t._v("hashchange")]),t._v(" "),a("li",[t._v("contextmenu")]),t._v(" "),a("li",[t._v("DOMContentLoaded（形成dom树之后就会触发）")]),t._v(" "),a("li",[t._v("beforeunload")]),t._v(" "),a("li",[t._v("readstatechange")])])]),t._v(" "),a("li",[t._v("触摸与手势事件\n"),a("ul",[a("li",[t._v("触摸：touchstart/touchmove/touchend/touchcancel")]),t._v(" "),a("li",[t._v("手势：gesturestart/gesturechange/gestureend")])])])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM0事件处理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myBtn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM2事件处理，好处：可以添加多个事件处理程序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myBtn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最后为false，代表冒泡阶段捕获")]),t._v("\n")])])]),a("h3",{attrs:{id:"元素大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素大小"}},[t._v("#")]),t._v(" 元素大小")]),t._v(" "),a("p",[t._v("元素的可见大小由高度、宽度决定，包括所有内边距、滚动条和边框大小（注意，不包括外边距）。")]),t._v(" "),a("h4",{attrs:{id:"_1-偏移量-offset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-偏移量-offset"}},[t._v("#")]),t._v(" 1. 偏移量 offset")]),t._v(" "),a("p",[t._v("元素的偏移量。")]),t._v(" "),a("p",[t._v("注意offsetLef和offsetTop是"),a("code",[t._v("相对于offsetParent元素")]),t._v("。")]),t._v(" "),a("ul",[a("li",[t._v("offsetHeight")]),t._v(" "),a("li",[t._v("offsetWidth")]),t._v(" "),a("li",[t._v("offsetLeft")]),t._v(" "),a("li",[t._v("offsetTop")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/6310131/80852040-e2014980-8c57-11ea-8f01-69eb2dd27c8c.png",alt:"image"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 案例：知道某个el元素在页面上的偏移量")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于el.getBoundingClientRect().top")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementTop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" actualTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetParent\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        actualTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop\n        current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetParent\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" actualTop\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_2-客户区大小-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-客户区大小-client"}},[t._v("#")]),t._v(" 2. 客户区大小 client")]),t._v(" "),a("p",[t._v("指的是元素"),a("code",[t._v("内容及内边距所占的空间大小")]),t._v("(不包括边框和外边距)。")]),t._v(" "),a("ul",[a("li",[t._v("clientHeight")]),t._v(" "),a("li",[t._v("clientWidth")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/6310131/80852111-86838b80-8c58-11ea-99c2-b6ff8cc4f7c7.png",alt:"image"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 案例：获取视口大小")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getViewport")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compatMode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BackCompat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ie 7 以下版本")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-滚动大小-scroll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-滚动大小-scroll"}},[t._v("#")]),t._v(" 3. 滚动大小 scroll")]),t._v(" "),a("p",[t._v("指的是包含滚动内容的的元素大小。")]),t._v(" "),a("p",[t._v("有些元素（如html），即使没有执行任何代码也能自动的添加滚动条，但另外一些元素（如div），则需要"),a("code",[t._v("通过css的overflow属性设置才能滚动")]),t._v("。")]),t._v(" "),a("p",[t._v("scrollHeight/scrollWidth主要用于确定元素内容的实际大小。例如带有垂直滚动条的页面总高度是document.documentElement.scrollHeight")]),t._v(" "),a("ul",[a("li",[t._v("scrollHeight")]),t._v(" "),a("li",[t._v("scrollWidth")]),t._v(" "),a("li",[t._v("scrollLeft")]),t._v(" "),a("li",[t._v("scrollTop")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/6310131/80852149-e8dc8c00-8c58-11ea-93b2-0b7ce778c971.png",alt:"image"}})]),t._v(" "),a("h4",{attrs:{id:"_4-确定元素大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-确定元素大小"}},[t._v("#")]),t._v(" 4. 确定元素大小")]),t._v(" "),a("p",[t._v("浏览器为每个元素都提供了"),a("code",[t._v("getBoundingClientRect()")]),t._v("方法（注意该方法的兼容性）。这个方法会返回一个矩形对象，包含4个属性： left、top、bottom、right。")]),t._v(" "),a("p",[t._v("这些属性给出了元素在页面中相对于视口（页面坐标原点）的位置。")]),t._v(" "),a("h2",{attrs:{id:"html5-javascirpt-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html5-javascirpt-api"}},[t._v("#")]),t._v(" HTML5 JavaScirpt API")]),t._v(" "),a("ul",[a("li",[t._v("requestAnimationFrame")]),t._v(" "),a("li",[t._v("Page Visible API\n"),a("ul",[a("li",[t._v("IntersectionObserver")])])]),t._v(" "),a("li",[t._v("Geolocation API")]),t._v(" "),a("li",[t._v("File API\n"),a("ul",[a("li",[t._v("e.target.files\n"),a("ul",[a("li",[t._v("name")]),t._v(" "),a("li",[t._v("size")]),t._v(" "),a("li",[t._v("type")]),t._v(" "),a("li",[t._v("lastModifieDate")])])]),t._v(" "),a("li",[t._v("FileReader（可以想象为文件系统的XMLHttpRequest）")]),t._v(" "),a("li",[t._v("对象URL createObjectURL")]),t._v(" "),a("li",[t._v("结合拖放事件 e.dataTransfer.files")]),t._v(" "),a("li",[t._v("FormData")])])]),t._v(" "),a("li",[t._v("Web Worker")])])])}),[],!1,null,null,null);s.default=e.exports}}]);