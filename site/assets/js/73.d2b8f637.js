(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{432:function(t,a,s){"use strict";s.r(a);var n=s(9),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"《head-first-design-patterns》"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#《head-first-design-patterns》","aria-hidden":"true"}},[t._v("#")]),t._v(" 《Head First Design Patterns》")]),t._v(" "),s("p",[t._v("这是一本十分经典的关于设计模式的书，以前阅读过这本书，这次重新阅读又增加了新的理解。书本中一些经典案例的讲解，联系到平时工作中的应用，对设计模式有了更加深入的思考。这里给出工作中总结的"),s("router-link",{attrs:{to:"/js/js-design-pattern.html"}},[t._v("常用JS设计模式")])],1),t._v(" "),s("h2",{attrs:{id:"设计原则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设计原则","aria-hidden":"true"}},[t._v("#")]),t._v(" 设计原则")]),t._v(" "),s("ol",[s("li",[t._v("找出应用中可能需要变化之处，把它们独立出来，不要把和那些不变化的代码混合在一起")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// bad")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 飞行技能和叫声不是每只鸭子都会的（比如橡皮鸭），所以不能放在鸭子Duck基类中")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Duck")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// common")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("eat")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("sleep")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// special")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("fly")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("quack")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("针对接口编程，而不是针对实现编程")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("Dog d "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Dog")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 针对实现编程")]),t._v("\nAnimal d "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Dog")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 针对接口编程(Dog extend Animal)")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("多用组合，少用继承")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// bad")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 飞行和叫声是接口，需要每次都实现，不好")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("RedHeadDuck")]),t._v(" extend Duck interfaces IFly"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" IQuack "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// good")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("RedHeadDuck")]),t._v(" extend Duck "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    FlyBehavior fly"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    QuackBehavior quack"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"设计模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设计模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 设计模式")]),t._v(" "),s("h3",{attrs:{id:"观察者模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#观察者模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 观察者模式")]),t._v(" "),s("ul",[s("li",[t._v("特点是一对多")]),t._v(" "),s("li",[t._v("需要有订阅关系（这样发布才通知的到）")])]),t._v(" "),s("h3",{attrs:{id:"迭代器模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#迭代器模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 迭代器模式")]),t._v(" "),s("ul",[s("li",[t._v("提供一种方法顺序访问一个聚合对象的各个元素，而又不暴露其内部的表示。")]),t._v(" "),s("li",[t._v("即不同的迭代方式换成统一的iterator.next()")])]),t._v(" "),s("h3",{attrs:{id:"组合模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组合模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 组合模式")]),t._v(" "),s("ul",[s("li",[t._v("允许你将对象组合成树形结构来表现“整体/部分”层次结构。组合能让客户以一致的方式处理个别对象与组合对象。")])]),t._v(" "),s("h3",{attrs:{id:"模版方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模版方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 模版方法")]),t._v(" "),s("ul",[s("li",[t._v("在一个方法中定义算法的骨架，而将一些步骤延迟到子类。")]),t._v(" "),s("li",[t._v("模板方法可以在不改变结构算法的基础上，重新定义算法中的某些步骤")])]),t._v(" "),s("h3",{attrs:{id:"命令模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 命令模式")]),t._v(" "),s("ul",[s("li",[t._v("将“请求“封装成对象，以便使用不同的请求来参数化其他对象。")]),t._v(" "),s("li",[t._v("eg：n种缓存方式 + 缓存管理类（管理类面向最终用户，但内部调用还是使用缓存）")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// n种缓存方式")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("LocalStorage")]),t._v(" extend ICache"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("ObjectStorage")]),t._v(" extend ICache"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 管理类")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CacheManage")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("constructor")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ICache cache"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" cache\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])},[],!1,null,null,null);e.options.__file="book-head-first-design-patterns.md";a.default=e.exports}}]);